feeds:
  - name: more or less
    feed_url: https://podcasts.files.bbci.co.uk/p02nrss1.rss
    output:
      s3:
        object: moreorless.rss
        bucket: feed-fiddler
    filters:
    - filter: duration
      config:
        operator: lessThan
        minutes: 12
    fiddles:
    - fiddle: append_to_title
      config:
        string: "[fiddled]"
    - fiddle: feed_image
      config:
        url: https://notdrills.s3.eu-west-2.amazonaws.com/till.webp

  - name: rhlstp
    feed_url: https://access.acast.com/rss/aacb15fc-f2a9-43e6-9d0f-521463063cef/
    output:
      s3:
        object: rhlstp.rss
        bucket: feed-fiddler
    filters:
    - filter: regex_exclude
      config:
        field: title
        pattern: '^RHLSTP Book Club'
    fiddles:
    - fiddle: append_to_title
      config:
        string: "[fiddled]"

  - name: smart enough to know better
    feed_url: https://smartenough.org/feed
    output:
      file:
        path: se2kb.rss
      s3:
        object: se2kb.rss
        bucket: feed-fiddler
    filters:
    - filter: regex_exclude
      config:
        field: title
        pattern: 'Book Club'
    fiddles:
    - fiddle: append_to_title
      config:
        string: "[fiddled]"

